webpackJsonp([12],{"229y":function(e,t){},RZe2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={props:{},data:function(){return{activeName:"content",experimentName:"",experimentText:"",experimentList:[],recordText:"",recordFile:[],editorHeight:"70vh",drawer:!1,isDisable:!0}},computed:{},created:function(){this.clearData(this.init())},mounted:function(){},watch:{},methods:{init:function(){var e=this;this.$http.get("/teaching/student/experiment/info/$this.$route.params.courseIdexperimentId}").then(function(t){if("0"==t.data.code){var r=t.data.data.experiment;if(t.data.data.experiment&&(e.experimentName=r.experimentName,e.experimentText=r.experimentText),t.data.data.record){var s=t.data.data.record;e.recordFile=s.userExperimentFile,e.recordText=s.userExperimentText,1==r.experimentStatus&&1!=s.status&&4!=s.status&&(e.isDisable=!1)}}else"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"})}).catch(function(e){console.log(e)}),this.$http.get("/teaching/student/course/info/$this.$route.params.courseId}").then(function(t){"0"==t.data.code?e.experimentList=t.data.data.experimentDTOList:"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"})}).catch(function(e){console.log(e)})},clearData:function(){this.experimentName="",this.experimentText="",this.experimentList=[],this.recordText="",this.recordFile=[],this.isDisable=!0},handleClick:function(e,t){switch(e.label){case"实验内容":this.$router.push("/courseList/$this.$route.params.courseId}/$this.$route.params.courseIdexperimentId}");break;case"实验资源":this.$router.push("/courseList/$this.$route.params.courseId}/resource/$this.$route.params.courseIdexperimentId}");break;case"查看答案":this.$router.push("/courseList/$this.$route.params.courseId}/answer/$this.$route.params.courseIdexperimentId}");break;case"老师评价":this.$router.push("/courseList/$this.$route.params.courseId}/evaluation/$this.$route.params.courseIdexperimentId}");break;default:return}},doExperiment:function(e){this.drawer=!1,this.$router.push("/courseList/"+this.$route.params.courseId+"/"+e),this.clearData(this.init())},submit:function(){var e=this;this.$http.post("/teaching/record/save",{experimentId:this.$route.params.experimentId,userExperimentText:this.recordText,userExperimentFile:this.recordFile}).then(function(t){"0"==t.data.code?(e.$message({message:"提交成功！",type:"success"}),e.$router.push("/courseList/experiment/"+e.$route.params.courseId)):"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"})}).catch(function(e){console.log(e)})}},components:{TinymceEditor:r("5YLu").a}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.experimentName))])]),e._v(" "),r("div",{staticClass:"content"},[r("div",{staticClass:"leftContent"},[r("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"实验内容",name:"content"}},[r("div",{staticClass:"experimentContent"},[e._v("\n                        "+e._s(e.experimentText)+"\n                    ")])]),e._v(" "),r("el-tab-pane",{attrs:{label:"实验资源",name:"resource"}},[r("div",{staticClass:"experimentContent"},[r("router-view")],1)]),e._v(" "),r("el-tab-pane",{attrs:{label:"查看答案",name:"answer"}},[r("div",{staticClass:"experimentContent"},[r("router-view")],1)]),e._v(" "),r("el-tab-pane",{attrs:{label:"老师评价",name:"evaluation"}},[r("div",{staticClass:"experimentContent"},[r("router-view")],1)])],1)],1),e._v(" "),r("div",{staticClass:"rightContent"},[r("div",[r("tinymceEditor",{attrs:{height:e.editorHeight},model:{value:e.recordText,callback:function(t){e.recordText=t},expression:"recordText"}})],1)])]),e._v(" "),r("div",{staticClass:"footer"},[r("div",{staticClass:"leftFooter"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.drawer=!0}}},[r("i",{staticClass:"el-icon-s-unfold"}),e._v(" 实验列表")])],1),e._v(" "),r("div",{staticClass:"rightFooter"},[r("el-button",{attrs:{type:"primary",disabled:e.isDisable},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)]),e._v(" "),r("el-drawer",{attrs:{title:"实验列表",visible:e.drawer,direction:"ltr"},on:{"update:visible":function(t){e.drawer=t}}},[r("ul",{staticClass:"sidebar"},e._l(e.experimentList,function(t,s){return r("li",{key:s,on:{click:function(r){return e.doExperiment(t.experimentId)}}},[e._v("\n                "+e._s(t.experimentName)+"-"+e._s(t.experimentText)+"\n            ")])}),0)])],1)},staticRenderFns:[]};var i=r("VU/8")(s,a,!1,function(e){r("229y")},"data-v-91291c74",null);t.default=i.exports}});
//# sourceMappingURL=12.66386a31b378af0871e6.js.map