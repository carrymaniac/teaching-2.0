webpackJsonp([25],{"0leb":function(e,t){},j6eO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("5YLu"),i={props:{},data:function(){return{navData:[{name:"实验列表",path:"/admin/courseList/experiment/"+this.$route.params.courseId},{name:"添加实验",path:""}],form:{experimentName:"",experimentIntro:"",experimentText:"",experimentStatus:"0",isQuezhi:"0",isAnswerQuezhi:"0",valve:"",punishment:"",experimentAnswerContent:"",experimentDetailFile:[],experimentAnswerFile:[]},imageUrl:""}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{onSubmit:function(){var e=this;this.$http.post("/teaching/teacher/experiment/add",{experimentName:"",courseId:this.$route.params.courseId,experimentIntro:"",experimentText:"",experimentStatus:"0",valve:"",punishment:"",experimentAnswerContent:"",experimentDetailFile:[],experimentAnswerFile:[]}).then(function(t){"0"==t.data.code?(e.$message({message:"成功新增实验！",type:"success"}),e.$router.push("/admin")):"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"})}).catch(function(e){console.log(e)})},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&r}},components:{breadCrumb:r("ZmIX").a,TinymceEditor:a.a}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("div",{staticClass:"containner"},[r("breadCrumb",{attrs:{data:e.navData}}),e._v(" "),r("div",{staticClass:"contain"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"实验名称",rules:{required:!0}}},[r("el-input",{model:{value:e.form.experimentName,callback:function(t){e.$set(e.form,"experimentName",t)},expression:"form.experimentName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"实验简介"}},[r("el-input",{model:{value:e.form.experimentIntro,callback:function(t){e.$set(e.form,"experimentIntro",t)},expression:"form.experimentIntro"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"实验详情"}},[r("tinymceEditor",{model:{value:e.form.experimentText,callback:function(t){e.$set(e.form,"experimentText",t)},expression:"form.experimentText"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"试验状态",prop:"resource"}},[r("el-radio-group",{model:{value:e.form.experimentStatus,callback:function(t){e.$set(e.form,"experimentStatus",t)},expression:"form.experimentStatus"}},[r("el-radio",{attrs:{label:"0"}},[e._v("解锁")]),e._v(" "),r("el-radio",{attrs:{label:"1"}},[e._v("未解锁")])],1)],1),e._v(" "),1==e.form.experimentStatus?r("el-form-item",{attrs:{label:"设置解锁阙值",prop:"resource"}},[r("el-radio-group",{model:{value:e.form.isQuezhi,callback:function(t){e.$set(e.form,"isQuezhi",t)},expression:"form.isQuezhi"}},[r("el-radio",{attrs:{label:"0"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:"1"}},[e._v("否")])],1),e._v(" "),0==e.form.isQuezhi?r("el-form-item",[r("el-input",{staticStyle:{width:"120px"},model:{value:e.form.valve,callback:function(t){e.$set(e.form,"valve",t)},expression:"form.valve"}}),e._v(" "),r("el-alert",{staticStyle:{"line-height":"1em","margin-top":"1em"},attrs:{title:"提示：当提交实验的人数占比（班级人数）大于阈值时，将自动解锁下一个实验",type:"info","show-icon":""}})],1):e._e()],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"设置实验封面"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[r("div",{staticClass:"uploadBox"},[e.imageUrl?r("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1),e._v(" "),r("el-form-item",{attrs:{label:"实验答案"}},[r("tinymceEditor",{model:{value:e.form.experimentAnswerContent,callback:function(t){e.$set(e.form,"experimentAnswerContent",t)},expression:"form.experimentAnswerContent"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"设置答案阙值",prop:"resource"}},[r("el-radio-group",{model:{value:e.form.isAnswerQuezhi,callback:function(t){e.$set(e.form,"isAnswerQuezhi",t)},expression:"form.isAnswerQuezhi"}},[r("el-radio",{attrs:{label:"0"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:"1"}},[e._v("否")])],1),e._v(" "),0==e.form.isAnswerQuezhi?r("el-form-item",[r("el-input",{staticStyle:{width:"120px"},model:{value:e.form.punishment,callback:function(t){e.$set(e.form,"punishment",t)},expression:"form.punishment"}}),e._v(" "),r("el-alert",{staticStyle:{"line-height":"1em","margin-top":"1em"},attrs:{title:"提示：当学生点击查看参考答案时，最终实验成绩=教师打分*阈值比例",type:"info","show-icon":""}})],1):e._e()],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")]),e._v(" "),r("el-button",[e._v("取消")])],1)],1)],1)],1)])},staticRenderFns:[]};var n=r("VU/8")(i,o,!1,function(e){r("0leb")},"data-v-01d136e8",null);t.default=n.exports}});
//# sourceMappingURL=25.b1a7c337194d9f20c1b5.js.map